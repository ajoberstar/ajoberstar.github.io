<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>grgit-commit :: ajoberstar.org</title>
    <link rel="canonical" href="https://ajoberstar.org/grgit/main/grgit-commit.html">
    <meta name="generator" content="Antora 3.0.3">
    <link rel="stylesheet" href="../../_/css/site.css">
    <script>var uiRootPath = '../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://ajoberstar.org">ajoberstar.org</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Projects</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="../../ajoberstar/index.html">ajoberstar</a>
            <a class="navbar-item" href="index.html">grgit</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="grgit" data-version="main">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html">grgit</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Setup and Config</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="grgit-authentication.html">grgit-authentication</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="grgit-gradle.html">grgit-gradle</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Getting and Creating Projects</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="grgit-init.html">grgit-init</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="grgit-clone.html">grgit-clone</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="grgit-open.html">grgit-open</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Basic Snapshotting</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="grgit-add.html">grgit-add</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="grgit-status.html">grgit-status</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="grgit-commit.html">grgit-commit</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="grgit-reset.html">grgit-reset</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="grgit-remove.html">grgit-remove</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Branching and Merging</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="grgit-branch.html">grgit-branch</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="grgit-checkout.html">grgit-checkout</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="grgit-merge.html">grgit-merge</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="grgit-tag.html">grgit-tag</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Sharing and Updating Projects</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="grgit-fetch.html">grgit-fetch</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="grgit-pull.html">grgit-pull</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="grgit-push.html">grgit-push</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="grgit-remote.html">grgit-remote</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Inspection and Comparison</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="grgit-head.html">grgit-head</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="grgit-show.html">grgit-show</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="grgit-log.html">grgit-log</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="grgit-describe.html">grgit-describe</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="grgit-resolve.html">grgit-resolve</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="grgit-isAncestorOf.html">grgit-isAncestorOf</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Patching</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="grgit-apply.html">grgit-apply</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="grgit-revert.html">grgit-revert</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Administration</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="grgit-clean.html">grgit-clean</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Plumbing</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="grgit-lsremote.html">grgit-lsremote</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">grgit</span>
    <span class="version">main</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../ajoberstar/index.html">ajoberstar</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../ajoberstar/index.html">default</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="index.html">grgit</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">main</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../ajoberstar/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">grgit</a></li>
    <li>Basic Snapshotting</li>
    <li><a href="grgit-commit.html">grgit-commit</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/ajoberstar/grgit/edit/main/docs/modules/ROOT/pages/grgit-commit.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">grgit-commit</h1>
<div class="sect1">
<h2 id="_name"><a class="anchor" href="#_name"></a>Name</h2>
<div class="sectionbody">
<div class="paragraph">
<p>grgit-commit - Record changes to the repository</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_synopsis"><a class="anchor" href="#_synopsis"></a>Synopsis</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">grgit.commit(message: &lt;message&gt;, paths: [&lt;path&gt;, ...], all: &lt;boolean&gt;, amend: &lt;boolean&gt;,
  reflogComment: &lt;message&gt;, committer: &lt;person&gt;, author: &lt;person&gt;)</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">grgit.commit {
  message = &lt;message&gt;
  paths = [&lt;path&gt;, ...]
  all = &lt;boolean&gt;
  amend = &lt;boolean&gt;
  reflogComment = &lt;message&gt;
  committer = &lt;person&gt;
  author = &lt;person&gt;
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_description"><a class="anchor" href="#_description"></a>Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Stores the current contents of the index in a new commit along with a log message from the user describing the changes.</p>
</div>
<div class="paragraph">
<p>The content to be added can be specified in several ways:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>by using <a href="grgit-add.html" class="xref page">grgit-add</a> to incrementally "add" changes to the index before using the commit command (Note: even modified files must be "added");</p>
</li>
<li>
<p>by using <a href="grgit-remove.html" class="xref page">grgit-remove</a> to remove files from the working tree and the index, again before using the commit command;</p>
</li>
<li>
<p>by listing <code>paths</code> as arguments to the <code>commit</code> command, in which case the commit will ignore changes staged in the index, and instead record the current content of the listed files (which must already be known to Git);</p>
</li>
<li>
<p>by using the <code>all</code> switch with the commit command to automatically "add" changes from all known files (i.e. all files that are already listed in the index) and to automatically "rm" files in the index that have been removed from the working tree, and then perform the actual commit;</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>If you make a commit and then find a mistake immediately after that, you can recover from it with <a href="grgit-reset.html" class="xref page">grgit-reset</a>.</p>
</div>
<div class="paragraph">
<p>Returns a <a href="https://github.com/ajoberstar/grgit/blob/main/grgit-core/src/main/groovy/org/ajoberstar/grgit/Commit.groovy">Commit</a> representing the new <code>HEAD</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_options"><a class="anchor" href="#_options"></a>Options</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1">message</dt>
<dd>
<p>(<code>String</code>, default <code>null</code>) Use the given &lt;msg&gt; as the commit message.</p>
</dd>
<dt class="hdlist1">paths</dt>
<dd>
<p>(<code>Set&lt;String&gt;</code>, default <code>[]</code>) When files are given on the command line, the command commits the contents of the named files, without recording the changes already staged. The contents of these files are also staged for the next commit on top of what have been staged before.</p>
</dd>
<dt class="hdlist1">all</dt>
<dd>
<p>(<code>boolean</code>, default <code>false</code>) Tell the command to automatically stage files that have been modified and deleted, but new files you have not told Git about are not affected.</p>
</dd>
<dt class="hdlist1">amend</dt>
<dd>
<p>(<code>boolean</code>, default <code>false</code>) Replace the tip of the current branch by creating a new commit. The recorded tree is prepared as usual, and the message from the original commit is used as the starting point, instead of an empty message, when no other message is specified from the command line. The new commit has the same parents and author as the current one.</p>
</dd>
<dt class="hdlist1">reflogComment</dt>
<dd>
<p>(<code>String</code>, default <code>null</code>) Use a different comment in the reflog for this commit.</p>
</dd>
<dt class="hdlist1">committer</dt>
<dd>
<p>(<code>Person</code>, default <code>null</code>) Override the committer recorded in the commit. This must be a <a href="https://github.com/ajoberstar/grgit/blob/main/grgit-core/src/main/groovy/org/ajoberstar/grgit/Person.groovy">Person</a>.</p>
</dd>
<dt class="hdlist1">author</dt>
<dd>
<p>(<code>Person</code>, default <code>null</code>) Override the author recorded in the commit. This must be a <a href="https://github.com/ajoberstar/grgit/blob/main/grgit-core/src/main/groovy/org/ajoberstar/grgit/Person.groovy">Person</a>.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_examples"><a class="anchor" href="#_examples"></a>Examples</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To commit all staged changes.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">def commit = grgit.commit(message: 'something about the change')</code></pre>
</div>
</div>
<div class="paragraph">
<p>To commit changes to all previously tracked files.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">def commit = grgit.commit(message: 'something about the change', all: true)</code></pre>
</div>
</div>
<div class="paragraph">
<p>To amend the previous commit.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">def commit = grgit.commit(message: 'something about the change', amend: true)</code></pre>
</div>
</div>
<div class="paragraph">
<p>To commit changes authored by another person.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">def commit = grgit.commit(message: 'something about the change', author: new Person('Bruce Wayne', 'bruce.wayne@wayneindustries.com'))</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_see_also"><a class="anchor" href="#_see_also"></a>See Also</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="https://git-scm.com/docs/git-commit">git-commit</a></p>
</li>
</ul>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
</footer>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
  </body>
</html>
